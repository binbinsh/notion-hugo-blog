{{- /* Head custom content area start */ -}}
{{- /*     Insert any custom code (web-analytics, resources, etc.) - it will appear in the <head></head> section of every page. */ -}}
{{- /*     Can be overwritten by partial with the same name in the global layouts. */ -}}
{{- /* Head custom content area end */ -}}

{{ partial "math.html" . }}

<link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto+Flex:opsz,wght,wdth,GRAD@8..144,100..1000,75..125,-200..150&family=Roboto+Mono:wght@400;500;700&display=swap" rel="stylesheet">

{{ if or .Params.mermaid (.Site.Params.mermaid) }}
  <script defer src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      if (!window.mermaid) return;
      mermaid.initialize({ startOnLoad: true, securityLevel: 'loose' });
      // Convert fenced code blocks with mermaid language to div.mermaid
      document.querySelectorAll('pre code.language-mermaid, pre code[class*="language-mermaid"]').forEach(function (codeEl) {
        var text = codeEl.textContent || '';
        var container = document.createElement('div');
        container.className = 'mermaid';
        container.textContent = text;
        var pre = codeEl.closest('pre');
        if (pre && pre.parentNode) pre.parentNode.replaceChild(container, pre);
      });
    });
  </script>
{{ end }}

<!-- PhotoSwipe CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@5/dist/photoswipe.css">